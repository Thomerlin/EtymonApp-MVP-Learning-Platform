<div *ngIf="progressData" class="progress-container" [class]="progressCelebration">
  <h2>{{ progressData.level }}</h2>

  <div class="progress-summary">
    <div class="total-progress-info">
      <span>{{ progressData.totalCompleted }}/{{ progressData.totalExercises }} · {{ progressData.totalPercentage
        }}%</span>
    </div>
    <div class="total-progress-bar">
      <div class="total-progress-bar-fill" [style.width.%]="progressData.totalPercentage"></div>
    </div>
  </div>

  <div class="accordion" (click)="toggleAccordion()">
    <div class="accordion-header">
      <span>Detalhes por tipo</span>
      <span class="accordion-icon">{{ isAccordionOpen ? '−' : '+' }}</span>
    </div>
  </div>

  <div class="accordion-content" [class.visible]="isAccordionOpen">
    <div class="exercise-progress-container">
      <div class="exercise-progress" *ngFor="let exercise of progressData.exercises">
        <div class="exercise-header">{{ exercise.type }}</div>
        <div class="progress-bar">
          <div class="progress-bar-fill" [style.width.%]="exercise.percentage"></div>
        </div>
        <div class="exercise-stats">{{ exercise.completed }}/{{ exercise.total }}</div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="!progressData && articleId && level" class="no-progress-container">
  <p class="no-progress-message">No progress yet. Start completing exercises to track your progress!</p>
</div>